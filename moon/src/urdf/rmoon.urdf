<?xml version="1.0"?>


<robot name="moon" xmlns:xacro="https://www.ros.org/wiki/xacro" >
 

  <xacro:property name="namespace" value="rmoon"/>
 

    <link name="rmid">
        <inertial>
            <mass value="28" />
            
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.23768117187" ixy="-0.11662223437" ixz="-0.00455892187
" iyy="0.22683235937" iyz="0.00430353125" izz="0.42137089062" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="-1.57079632679 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tmid.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
    
        <collision>
          <origin xyz="0 0 0" rpy="-1.57079632679 0 0" />
          <geometry>
                <mesh filename="package://moon/src/meshes/tmid.stl" />
            </geometry>
        </collision>     
    </link>
    
<link name="lmid">
        <inertial>
            <mass value="28" />
            
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.23768117187" ixy="-0.11662223437" ixz="-0.00455892187
" iyy="0.22683235937" iyz="0.00430353125" izz="0.42137089062"/> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="1.57079632679 3.14159265359 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tmid.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
    
        <collision>
          <origin xyz="0 0 0" rpy="1.57079632679 3.14159265359 0" />
          <geometry>
                <mesh filename="package://moon/src/meshes/tmid.stl" />
            </geometry>
        </collision>     
    </link>
 <joint name="LefttoRight" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="lmid" />
    <parent link="rmid"/>
 <axis rpy="0 0 0" xyz="0 1 0 "/>
    <limit effort="500" velocity="10" lower="-1.57079632679" upper="1.57079632679"/>
    <joint_properties damping="5" friction="6" />
  </joint>  

    
<link name="forebody">
        <inertial>
            <mass value="50" />
            
            <origin xyz="0 0 0.1" />
            
            <inertia ixx="2.50531372" ixy="0" ixz="0" iyy="3.13793579" iyz="0" izz="5.269990235"/> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0.1" rpy="-1.57079632679 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tbod.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
    
        <collision>
          <origin xyz="0 0 0.1" rpy="-1.57079632679 0 0" />
          <geometry>
                <mesh filename="package://moon/src/meshes/tbod.stl" />
            </geometry>
        </collision>     
    </link>
<joint name="fore" type="prismatic">
    <origin rpy="0 0 0" xyz="0.600000 0 0.020000"/>
    <child link="forebody" />
    <parent link="lmid"/>
    <axis rpy="0 0 0" xyz="1 0 0"/>
      <limit effort="1000" velocity="1" lower="0" upper="0.28"/>
    <joint_properties damping="1" friction="1" />
  </joint>  
  
<link name="aftbody">
        <inertial>
            <mass value="50" />
            
            <origin xyz="0 0 0.1" /> 
            
            <inertia ixx="2.50531372" ixy="0" ixz="0" iyy="3.13793579" iyz="0" izz="5.269990235" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0.1" rpy="-1.57079632679 0 3.14159265359" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tbod.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
    
        <collision>
          <origin xyz="0 0 0.1" rpy="-1.57079632679 0 3.14159265359" />
          <geometry>
                <mesh filename="package://moon/src/meshes/tbod.stl" />
            </geometry>
        </collision>     
    </link>
<joint name="aft" type="prismatic">
    <origin rpy="0 0 0" xyz="-0.600000 0 0.020000"/>
    <child link="aftbody" />
    <parent link="rmid"/>
    <axis rpy="0 0 0" xyz="1 0 0"/>
      <limit effort="1000" velocity="1" lower="-0.28" upper="0"/>
    <joint_properties damping="1" friction="1" />
  </joint>  
   
<link name="foreRightTire">
        <inertial>
            <mass value="8" />
           
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.2538" ixy="0" ixz="0" iyy="0.1479" iyz="0" izz="0.1480" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tire.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
     <max_contacts>1</max_contacts>
 <surface>
           <friction>
             <ode>
               <mu>1.0</mu>
               <mu2>1.0</mu2>
-              
+              <fdir1>0 0 1</fdir1>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
-              
+              <min_depth>0.005</min_depth>
               <kp>1e8</kp>
             </ode>
           </contact>
</surface>
        <collision>
          <origin xyz="0 0 0" rpy="0 1.57079632679 0" />
          <geometry>
        <cylinder length="0.2" radius="0.3" />
      </geometry>
        </collision>     
    </link>
<joint name="foreRightTire_j" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="0.15 0.5 -0.025000"/>
    <child link="foreRightTire" />
    <parent link="forebody"/>
    
    <axis rpy="0 0 0" xyz="1 0 0 "/>
    <limit effort="1000" velocity="100" />
    <joint_properties damping="1" friction="1" />
  </joint>  
    <gazebo reference="foreRightTire">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>

  
    </gazebo> 
<link name="foreLeftTire">
        <inertial>
            <mass value="8" />
            
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.2538" ixy="0" ixz="0" iyy="0.1479" iyz="0" izz="0.1480" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tire.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
     <max_contacts>1</max_contacts>
<surface>
           <friction>
             <ode>
               <mu>1.0</mu>
               <mu2>1.0</mu2>
-              
+              <fdir1>0 0 1</fdir1>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
-              
+              <min_depth>0.005</min_depth>
               <kp>1e8</kp>
             </ode>
           </contact>
</surface>
        <collision>
          <origin xyz="0 0 0" rpy="0 1.57079632679 0" />
          <geometry>
        <cylinder length="0.2" radius="0.3" />
            </geometry>
        </collision>     
    </link>
    <gazebo reference="foreLeftTire">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>



    </gazebo> 
<joint name="foreLeftTire_j" type="continuous">
    <origin rpy="0 0 1.57079632679" xyz="0.15 -0.5 -0.025000"/>
    <child link="foreLeftTire" />
    <parent link="forebody"/>
     <axis rpy="0 0 0" xyz="1 0 0 "/>
    <limit effort="1000" velocity="100" />
    <joint_properties damping="1" friction="1" />
  </joint>  
<link name="aftRightTire">
        <inertial>
            <mass value="8" />
           
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.2538" ixy="0" ixz="0" iyy="0.1479" iyz="0" izz="0.1480" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tire.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
     <max_contacts>1</max_contacts>
<surface>
           <friction>
             <ode>
               <mu>1.0</mu>
               <mu2>1.0</mu2>
-              
+              <fdir1>0 0 1</fdir1>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
-              
+              <min_depth>0.005</min_depth>
               <kp>1e8</kp>
             </ode>
           </contact>
</surface>
        <collision>
          <origin xyz="0 0 0" rpy="0 1.57079632679 0" />
          <geometry>
        <cylinder length="0.2" radius="0.3" />
            </geometry>
        </collision>     
    </link>
    <gazebo reference="aftRightTire">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>



    </gazebo> 
<joint name="aftRightTire_j" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="-0.15 0.5 -0.025000"/>
    <child link="aftRightTire" />
    <parent link="aftbody"/>
     <axis rpy="0 0 0" xyz="1 0 0 "/>
    <limit effort="1000" velocity="100" />
    <joint_properties damping="1" friction="1" />
  </joint>  
<link name="aftLeftTire">
        <inertial>
            <mass value="8" />
           
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.2538" ixy="0" ixz="0" iyy="0.1479" iyz="0" izz="0.1480" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tire.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
     <max_contacts>1</max_contacts>
<surface>
           <friction>
             <ode>
               <mu>1.0</mu>
               <mu2>1.0</mu2>
-              
+              <fdir1>0 0 1</fdir1>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
-              
+              <min_depth>0.005</min_depth>
               <kp>1e8</kp>
             </ode>
           </contact>
</surface>
        <collision>
          <origin xyz="0 0 0" rpy="0 1.57079632679 0" />
          <geometry>
        <cylinder length="0.2" radius="0.3" />
            </geometry>
        </collision>     
    </link>
    <gazebo reference="aftLeftTire">
       <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>

 

    </gazebo> 
<joint name="aftLeftTire_j" type="continuous">
    <origin rpy="0 0 1.57079632679" xyz="-0.15 -0.5 -0.025000"/>
    <child link="aftLeftTire" />
    <parent link="aftbody"/>
    <axis rpy="0 0 0" xyz="1 0 0 "/>
    <limit effort="1000" velocity="100" />
    <joint_properties damping="1" friction="1" />
  </joint>  
<link name="midLeftTire">
        <inertial>
            <mass value="8" />
           
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.2538" ixy="0" ixz="0" iyy="0.1479" iyz="0" izz="0.1480" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tire.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
     <max_contacts>1</max_contacts>
<surface>
           <friction>
             <ode>
               <mu>1.0</mu>
               <mu2>1.0</mu2>
-              
+              <fdir1>0 0 1</fdir1>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
-              
+              <min_depth>0.005</min_depth>
               <kp>1e8</kp>
             </ode>
           </contact>
</surface>
        <collision>
      <origin xyz="0 0 0" rpy="0 1.57079632679 0" />
          <geometry>
        <cylinder length="0.2" radius="0.3" />
            </geometry>
        </collision>     
    </link>
    <gazebo reference="midLeftTire">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>


    </gazebo> 
<joint name="midLeftTire_j" type="continuous">
    <origin rpy="0 0 1.57079632679" xyz="0 -0.5 0.005000"/>
    <child link="midLeftTire" />
    <parent link="lmid"/>
     <axis rpy="0 0 0" xyz="1 0 0 "/>
    <limit effort="1000" velocity="100" />
    <joint_properties damping="1" friction="1" />
  </joint> 
<link name="midRightTire">
        <inertial>
            <mass value="8" />
           
            <origin xyz="0 0 0" />
            
            <inertia ixx="0.2538" ixy="0" ixz="0" iyy="0.1479" iyz="0" izz="0.1480" /> 
        </inertial>
        
        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <geometry>
                <mesh filename="package://moon/src/meshes/tire.stl" />
            </geometry>
            <material name="DarkGray" />
        </visual>
     <max_contacts>1</max_contacts>
<surface>
           <friction>
             <ode>
               <mu>1.0</mu>
               <mu2>1.0</mu2>
-              
+              <fdir1>0 0 1</fdir1>
               <slip1>0.0</slip1>
               <slip2>0.0</slip2>
             </ode>
           </friction>
           <contact>
             <ode>
-              
+              <min_depth>0.000001</min_depth>
               <kp>1e8</kp>
             </ode>
           </contact>
</surface>
        <collision>
         <origin xyz="0 0 0" rpy="0 1.57079632679 0" />
          <geometry>
        <cylinder length="0.2" radius="0.3" />
            </geometry>
        </collision>     
    </link>
    <gazebo reference="midRightTire">
        <material>Gazebo/FlatBlack</material>
        <turnGravityOff>false</turnGravityOff>

  

    </gazebo> 
<transmission name="midle">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="LefttoRight">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="midlemotor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
<transmission name="fore_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fore">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="fore_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
<transmission name="aft_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="aft">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="aft_motor">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
<transmission name="transmission_aftRightWheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="aftRightTire_j">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_aftRightWheel">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>
<transmission name="transmission_aftLeftWheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="aftLeftTire_j">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_aftLeftWheel">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>
<transmission name="transmission_midLeftWheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="midLeftTire_j">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_midLeftWheel">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>
<transmission name="transmission_midRightWheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="midRightTire_j">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_midRightWheel">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>
<transmission name="transmission_foreRightWheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="foreRightTire_j">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_foreRightWheel">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>
<transmission name="transmission_foreLeftWheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="foreLeftTire_j">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_foreLeftWheel">
        <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>

<joint name="midRightTire_j" type="continuous">
    <origin rpy="0 0 -1.57079632679" xyz="0 0.5 0.005000"/>
    <child link="midRightTire" />
    <parent link="rmid"/>
    <axis rpy="0 0 0" xyz="1 0 0 "/>
    <limit effort="1000" velocity="100" />
    <joint_properties damping="1" friction="1" />
  </joint>  
<gazebo>
  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
    <robotNamespace>/moon</robotNamespace>
  </plugin>
</gazebo>
</robot>
